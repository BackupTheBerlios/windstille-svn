SubDir TOP src ;

SubInclude TOP src collision ;
SubInclude TOP src display ;
SubInclude TOP src font ;
SubInclude TOP src gui ;
SubInclude TOP src input ;
SubInclude TOP src lisp ;
SubInclude TOP src math ;
SubInclude TOP src objects ;
SubInclude TOP src particles ;
SubInclude TOP src physfs ;
SubInclude TOP src scripting ;
SubInclude TOP src signals ;
SubInclude TOP src sound ;
SubInclude TOP src sprite2d ;
SubInclude TOP src sprite3d ;
SubInclude TOP src squirrel ;
SubInclude TOP src tinygettext ;

sources = 
        baby_xml.cpp
        baby_xml.hpp
        blitter.cpp
        blitter.hpp        
	box.cpp
 	box.hpp
        camera.cpp
        camera.hpp
        character.cpp
        character.hpp
	color.hpp
        command_line.hpp
        command_line.cpp
        command_line_generic.hpp
        command_line_generic.cpp
	config.cpp
	config.hpp
        console.cpp
        console.hpp
        controller_def.cpp
        controller_def.hpp
        controller_help_window.hpp
        controller_help_window.cpp
        conversation.hpp
        conversation.cpp
        dialog_manager.cpp
        dialog_manager.hpp
	elevator.cpp
	elevator.hpp
        energy_bar.cpp
        energy_bar.hpp
        entity.cpp
        entity.hpp
        field.hpp
	file_reader.hpp
        game_object.cpp
        game_object.hpp
        game_session.cpp
        game_session.hpp
        globals.cpp
        globals.hpp
        graphic_context_state.cpp
        graphic_context_state.hpp
        grenade.cpp
        grenade.hpp
        inventory.cpp
        inventory.hpp        
        laser_pointer.hpp
        laser_pointer.cpp
        liquid.hpp
        liquid.cpp
	lisp_getters.cpp
	lisp_getters.hpp
        math.hpp
	particle_viewer.cpp
	particle_viewer.hpp
        pda.cpp
        pda.hpp
        physics.cpp
        physics.hpp
        pistol.cpp
        pistol.hpp
        player.cpp
        player.hpp
        random.cpp
        random.hpp
	ref.hpp
	refcounter.hpp
        screen.cpp
        screen.hpp
        screen_manager.cpp
        screen_manager.hpp
        script_manager.cpp
        script_manager.hpp
        scriptable_object.hpp
        scriptable_object.cpp
        sector.cpp
        sector.hpp
	sharedptr.hpp
        spawnpoint.cpp
        spawnpoint.hpp
        sprite3dview.hpp
        sprite3dview.cpp
        text_area.hpp
        text_area.cpp
	tile.cpp
        tile.hpp
        tile_factory.cpp
        tile_factory.hpp
	tile_map.cpp
	tile_map.hpp
        tile_packer.cpp
        tile_packer.hpp
        timer.hpp
        timer.cpp
        trigger.cpp
        trigger.hpp
        util.cpp
        util.hpp
        view.cpp
        view.hpp
	weapon.hpp
        windstille_main.cpp
        windstille_main.hpp
;

TRANSLATABLE_SOURCES += [ SearchSource $(sources) ] ;

Application windstille
    :   $(display_objects)

        $(font_objects)

        $(glutil_objects)

        $(gui_objects)
    
        $(input_objects)

        $(lisp_objects)

        $(objects_objects)

        $(physfs_objects)

        $(scripting_objects)

        $(sound_objects)

        $(sprite2d_objects)

        $(sprite3d_objects)

        $(tinygettext_objects)

	$(collision_objects)

        $(particles_objects)

        $(math_objects)

        $(signals_objects)

        $(sources)
;

C++Flags windstille : -DAPPDATADIR='\"$(appdatadir)\"' ;
LinkWith windstille : squirrel ;
LFlags windstille : $($(USE_LIBS)_LIBS) ;
Help windstille : "Build the windstille executable" ;

